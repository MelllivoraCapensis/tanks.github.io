{"code":"!function(e){var t={};function n(s){if(t[s])return t[s].exports;var i=t[s]={i:s,l:!1,exports:{}};return e[s].call(i.exports,i,i.exports,n),i.l=!0,i.exports}n.m=e,n.c=t,n.d=function(e,t,s){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:s})},n.r=function(e){\"undefined\"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:\"Module\"}),Object.defineProperty(e,\"__esModule\",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&\"object\"==typeof e&&e&&e.__esModule)return e;var s=Object.create(null);if(n.r(s),Object.defineProperty(s,\"default\",{enumerable:!0,value:e}),2&t&&\"string\"!=typeof e)for(var i in e)n.d(s,i,function(t){return e[t]}.bind(null,i));return s},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,\"a\",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p=\"dist/\",n(n.s=1)}([function(e,t){throw new Error(\"Module build failed (from ./node_modules/mini-css-extract-plugin/dist/loader.js):\\nModuleNotFoundError: Module not found: Error: Can't resolve './.../img/tank.jpg' in 'C:\\\\Users\\\\User\\\\Web\\\\tanks\\\\src\\\\css'\\n    at factory.create (C:\\\\Users\\\\User\\\\Web\\\\tanks\\\\node_modules\\\\webpack\\\\lib\\\\Compilation.js:821:10)\\n    at factory (C:\\\\Users\\\\User\\\\Web\\\\tanks\\\\node_modules\\\\webpack\\\\lib\\\\NormalModuleFactory.js:397:22)\\n    at resolver (C:\\\\Users\\\\User\\\\Web\\\\tanks\\\\node_modules\\\\webpack\\\\lib\\\\NormalModuleFactory.js:130:21)\\n    at asyncLib.parallel (C:\\\\Users\\\\User\\\\Web\\\\tanks\\\\node_modules\\\\webpack\\\\lib\\\\NormalModuleFactory.js:224:22)\\n    at C:\\\\Users\\\\User\\\\Web\\\\tanks\\\\node_modules\\\\neo-async\\\\async.js:2825:7\\n    at C:\\\\Users\\\\User\\\\Web\\\\tanks\\\\node_modules\\\\neo-async\\\\async.js:6886:13\\n    at normalResolver.resolve (C:\\\\Users\\\\User\\\\Web\\\\tanks\\\\node_modules\\\\webpack\\\\lib\\\\NormalModuleFactory.js:214:25)\\n    at doResolve (C:\\\\Users\\\\User\\\\Web\\\\tanks\\\\node_modules\\\\enhanced-resolve\\\\lib\\\\Resolver.js:184:12)\\n    at hook.callAsync (C:\\\\Users\\\\User\\\\Web\\\\tanks\\\\node_modules\\\\enhanced-resolve\\\\lib\\\\Resolver.js:238:5)\\n    at _fn0 (eval at create (C:\\\\Users\\\\User\\\\Web\\\\tanks\\\\node_modules\\\\tapable\\\\lib\\\\HookCodeFactory.js:32:10), <anonymous>:15:1)\\n    at resolver.doResolve (C:\\\\Users\\\\User\\\\Web\\\\tanks\\\\node_modules\\\\enhanced-resolve\\\\lib\\\\UnsafeCachePlugin.js:37:5)\\n    at hook.callAsync (C:\\\\Users\\\\User\\\\Web\\\\tanks\\\\node_modules\\\\enhanced-resolve\\\\lib\\\\Resolver.js:238:5)\\n    at _fn0 (eval at create (C:\\\\Users\\\\User\\\\Web\\\\tanks\\\\node_modules\\\\tapable\\\\lib\\\\HookCodeFactory.js:32:10), <anonymous>:15:1)\\n    at hook.callAsync (C:\\\\Users\\\\User\\\\Web\\\\tanks\\\\node_modules\\\\enhanced-resolve\\\\lib\\\\Resolver.js:238:5)\\n    at _fn0 (eval at create (C:\\\\Users\\\\User\\\\Web\\\\tanks\\\\node_modules\\\\tapable\\\\lib\\\\HookCodeFactory.js:32:10), <anonymous>:12:1)\\n    at resolver.doResolve (C:\\\\Users\\\\User\\\\Web\\\\tanks\\\\node_modules\\\\enhanced-resolve\\\\lib\\\\DescriptionFilePlugin.js:42:38)\\n    at hook.callAsync (C:\\\\Users\\\\User\\\\Web\\\\tanks\\\\node_modules\\\\enhanced-resolve\\\\lib\\\\Resolver.js:238:5)\\n    at _fn42 (eval at create (C:\\\\Users\\\\User\\\\Web\\\\tanks\\\\node_modules\\\\tapable\\\\lib\\\\HookCodeFactory.js:32:10), <anonymous>:393:1)\\n    at hook.callAsync (C:\\\\Users\\\\User\\\\Web\\\\tanks\\\\node_modules\\\\enhanced-resolve\\\\lib\\\\Resolver.js:238:5)\\n    at _fn0 (eval at create (C:\\\\Users\\\\User\\\\Web\\\\tanks\\\\node_modules\\\\tapable\\\\lib\\\\HookCodeFactory.js:32:10), <anonymous>:12:1)\\n    at resolver.doResolve (C:\\\\Users\\\\User\\\\Web\\\\tanks\\\\node_modules\\\\enhanced-resolve\\\\lib\\\\DescriptionFilePlugin.js:42:38)\\n    at hook.callAsync (C:\\\\Users\\\\User\\\\Web\\\\tanks\\\\node_modules\\\\enhanced-resolve\\\\lib\\\\Resolver.js:238:5)\\n    at _fn1 (eval at create (C:\\\\Users\\\\User\\\\Web\\\\tanks\\\\node_modules\\\\tapable\\\\lib\\\\HookCodeFactory.js:32:10), <anonymous>:24:1)\\n    at hook.callAsync (C:\\\\Users\\\\User\\\\Web\\\\tanks\\\\node_modules\\\\enhanced-resolve\\\\lib\\\\Resolver.js:238:5)\\n    at _fn0 (eval at create (C:\\\\Users\\\\User\\\\Web\\\\tanks\\\\node_modules\\\\tapable\\\\lib\\\\HookCodeFactory.js:32:10), <anonymous>:15:1)\\n    at fs.stat (C:\\\\Users\\\\User\\\\Web\\\\tanks\\\\node_modules\\\\enhanced-resolve\\\\lib\\\\DirectoryExistsPlugin.js:22:13)\\n    at process.nextTick (C:\\\\Users\\\\User\\\\Web\\\\tanks\\\\node_modules\\\\enhanced-resolve\\\\lib\\\\CachedInputFileSystem.js:73:15)\\n    at _combinedTickCallback (internal/process/next_tick.js:131:7)\\n    at process._tickCallback (internal/process/next_tick.js:180:9)\")},function(e,t,n){\"use strict\";n.r(t);n(0);function s(e,t){for(var n=0;n<t.length;n++){var s=t[n];s.enumerable=s.enumerable||!1,s.configurable=!0,\"value\"in s&&(s.writable=!0),Object.defineProperty(e,s.key,s)}}var i=function(){function e(t,n,s,i,o,r){!function(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}(this,e),this.animTimeStep=10,this.relSpeed=800,this.tankSpeed=r,this.gunDirection=o,this.size={width:t,height:5},this.createBulletDom(s,i),this.moveBullet()}var t,n,i;return t=e,(n=[{key:\"moveBullet\",value:function(){var e=this,t=null,n=this.left,s=this.top;window.requestAnimationFrame(function i(o){t||(t=o);var r=o-t;e.leftSetter=n+e.fullSpeed.toRight*r/1e3,e.topSetter=s+e.fullSpeed.toBottom*r/1e3,e.left<field.clientWidth&&e.left>-e.size.width&&e.top<field.clientHeight&&e.top>-e.size.height?window.requestAnimationFrame(i):field.removeChild(e.bulletDom)})}},{key:\"placeBulletDom\",value:function(){this.bulletDom.style.left=\"\".concat(this.left,\"px\"),this.bulletDom.style.top=\"\".concat(this.top,\"px\")}},{key:\"createBulletDom\",value:function(e,t){this.bulletDom=document.createElement(\"div\"),this.bulletDom.classList.add(\"bullet\"),this.bulletDom.style.width=\"\".concat(this.size.width,\"px\"),this.bulletDom.style.height=\"\".concat(this.size.height,\"px\"),field.appendChild(this.bulletDom),this.leftSetter=e,this.topSetter=t,this.placeBulletDom()}},{key:\"fullSpeed\",get:function(){return{toRight:this.relSpeed*Math.cos(this.gunDirection),toBottom:-this.relSpeed*Math.sin(this.gunDirection)}}},{key:\"leftSetter\",set:function(e){this.left=e,this.placeBulletDom()}},{key:\"topSetter\",set:function(e){this.top=e,this.placeBulletDom()}}])&&s(t.prototype,n),i&&s(t,i),e}();function o(e,t){for(var n=0;n<t.length;n++){var s=t[n];s.enumerable=s.enumerable||!1,s.configurable=!0,\"value\"in s&&(s.writable=!0),Object.defineProperty(e,s.key,s)}}var r=function(){function e(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}(this,e),this.tank=t,this.barrel={size:{width:6,height:40}},this.turret={size:{width:30,height:40}},this.direction=n,this.createTankGunDom()}var t,n,s;return t=e,(n=[{key:\"rotateTurrent\",value:function(){this.turretDom.style.transform=\"rotate(\"+(180*-this.direction/Math.PI+90)+\"deg)\"}},{key:\"createTankGunDom\",value:function(){this.turretDom=document.createElement(\"div\"),this.tank.tankDom.appendChild(this.turretDom),this.turretDom.classList.add(\"tankTurret\"),this.turretDom.style.width=this.turret.size.width+\"px\",this.turretDom.style.height=this.turret.size.height+\"px\",this.turretDom.style.top=(this.tank.size.height-this.turret.size.height)/2+\"px\",this.turretDom.style.left=(this.tank.size.width-this.turret.size.width)/2+\"px\",this.rotateTurrent(),this.barrelDom=document.createElement(\"div\"),this.turretDom.appendChild(this.barrelDom),this.barrelDom.classList.add(\"tankBarrel\"),this.barrelDom.style.width=this.barrel.size.width+\"px\",this.barrelDom.style.height=this.barrel.size.height+\"px\",this.barrelDom.style.left=(this.turret.size.width-this.barrel.size.width)/2+\"px\",this.barrelDom.style.top=-this.barrel.size.height+\"px\"}},{key:\"directionSetter\",set:function(e){this.direction=e,this.rotateTurrent()}}])&&o(t.prototype,n),s&&o(t,s),e}();function a(e,t){for(var n=0;n<t.length;n++){var s=t[n];s.enumerable=s.enumerable||!1,s.configurable=!0,\"value\"in s&&(s.writable=!0),Object.defineProperty(e,s.key,s)}}var l=function(){function e(t,n,s){!function(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}(this,e),this.animTimeStep=10,this.fireRate=10,this.speed={linear:200,radial:1},this.bulletWidth=5,this.gunRotateStep=.05,this.size={width:50,height:65},this.left=n,this.top=s,this.keyCodes={move:[],fight:[]},this.direction=Math.PI/2,this.createTankDom(),this.addManipulation(),this.tankGun=new r(this,Math.PI/2)}var t,n,s;return t=e,(n=[{key:\"placeTankDom\",value:function(){this.tankDom.style.left=\"\".concat(this.left-this.size.width/2,\"px\"),this.tankDom.style.top=\"\".concat(this.top-this.size.height/2,\"px\"),this.tankDom.style.transform=\"rotate(\"+(90-180*this.direction/Math.PI)+\"deg)\"}},{key:\"createTankDom\",value:function(e,t){this.tankDom=document.createElement(\"div\"),this.tankDom.classList.add(\"tank\"),this.tankDom.style.width=this.size.width+\"px\",this.tankDom.style.height=this.size.height+\"px\",field.appendChild(this.tankDom),this.placeTankDom()}},{key:\"moveTank\",value:function(){var e=this,t=setInterval(function(){0!==e.keyCodes.move.length?e.keyCodes.move.forEach(function(t){e.handleKey(t)}):clearInterval(t)},this.animTimeStep)}},{key:\"handleKey\",value:function(e){switch(e){case\"KeyW\":new i(this.bulletWidth,field,this.endOfBarrel.left,this.endOfBarrel.top,this.tankGun.direction+this.direction-Math.PI/2,this.currentSpeed);break;case\"KeyA\":this.tankGun.directionSetter=this.tankGun.direction+this.gunRotateStep;break;case\"KeyD\":this.tankGun.directionSetter=this.tankGun.direction-this.gunRotateStep;break;case\"ArrowLeft\":this.directionSetter=Math.max(0,Math.min(this.direction+this.animTimeStep*this.currentSpeed.radial/1e3,Math.PI));break;case\"ArrowRight\":this.directionSetter=Math.max(0,Math.min(this.direction-this.animTimeStep*this.currentSpeed.radial/1e3,Math.PI));break;case\"ArrowUp\":this.topSetter=Math.max(0,this.top+this.currentSpeed.toBottom*this.animTimeStep/1e3),this.leftSetter=Math.max(0,this.left+this.currentSpeed.toRight*this.animTimeStep/1e3);break;case\"ArrowDown\":this.topSetter=this.top+this.currentSpeed.toBottom*this.animTimeStep/1e3,this.leftSetter=this.left+this.currentSpeed.toRight*this.animTimeStep/1e3}}},{key:\"makeFight\",value:function(){var e=this,t=setInterval(function(){0!==e.keyCodes.fight.length?e.keyCodes.fight.forEach(function(t){e.handleKey(t)}):clearInterval(t)},1e3/this.fireRate)}},{key:\"addManipulation\",value:function(){var e=this;window.onkeyup=function(t){h(e.keyCodes.move,t.code),h(e.keyCodes.fight,t.code)},window.onkeydown=function(t){u(t.code)&&(0===e.keyCodes.move.length&&(d(e.keyCodes.move,t.code),e.moveTank()),d(e.keyCodes.move,t.code)),c(t.code)&&(0===e.keyCodes.fight.length&&(d(e.keyCodes.fight,t.code),e.makeFight()),d(e.keyCodes.fight,t.code))}}},{key:\"directionSetter\",set:function(e){this.direction=e,this.placeTankDom()}},{key:\"endOfBarrel\",get:function(){var e=this.tankGun.turret.size.height/2+this.tankGun.barrel.size.height,t=this.tankGun.direction+this.direction-Math.PI/2;return{left:this.left+e*Math.cos(t),top:this.top-e*Math.sin(t)}}},{key:\"currentSpeed\",get:function(){var e=(this.keyCodes.move.indexOf(\"ArrowUp\")>=0)-(this.keyCodes.move.indexOf(\"ArrowDown\")>=0);return{toRight:e*this.speed.linear*Math.cos(this.direction),toBottom:-e*this.speed.linear*Math.sin(this.direction),radial:e*this.speed.radial}}},{key:\"fieldBounds\",get:function(){return{left:f(field).left,right:f(field).left+field.offsetWidth,top:f(field).top,bottom:f(field).top+field.offsetHeight}}},{key:\"leftSetter\",set:function(e){this.left=e,this.placeTankDom()}},{key:\"topSetter\",set:function(e){this.top=e,this.placeTankDom()}}])&&a(t.prototype,n),s&&a(t,s),e}(),h=function(e,t){var n=e.indexOf(t);n>=0&&e.splice(n,1)},d=function(e,t){e.indexOf(t)>=0||e.push(t)},c=function(e){return\"KeyA\"===e||\"KeyW\"===e||\"KeyD\"===e},u=function(e){return\"ArrowLeft\"===e||\"ArrowRight\"===e||\"ArrowUp\"===e||\"ArrowDown\"===e},f=function(e){var t=e.getBoundingClientRect();return{left:t.x,top:t.y}},m=document.getElementById(\"field\");document.getElementById(\"result\"),new l(m,345,80)}]);","extractedComments":[]}